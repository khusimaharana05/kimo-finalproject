<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Listing</title>
    <link rel="stylesheet" href="listing.css">
</head>
<body>
    <header>
        <div class="nav-logo border">
            <div class="logo"></div>
        </div>
        <h1>Product Listing</h1>
        <a href="index.html">Home</a>
        <a href="placeorder.html">Place Order</a>
        <a href="lohout.html">Logout</a>
    </header>
    <div class="product-list">
        <h2>Available Products</h2>
        <ul>
            <li>
                <h3 alt="Product Image" class="product-image image1"></h3>
                <p>Description of product .</p>
                <button onclick="addToCart('Product 1','images/image1.jpeg')">Add to Cart</button>
            </li>
            <li>
                <h3 image2 alt="Product Image" class="product-image image2"></h3>
                <p>Description of product .</p>
                <button onclick="addToCart('Product 2','images/image2.jpeg')">Add to Cart</button>
            </li>
            <li>
                <h3 alt="Product Image" class="product-image image3"></h3>
                <p>Description of product .</p>
                <button onclick="addToCart('Product 3','images/image3.jpeg')">Add to Cart</button>
            </li>
            <li>
                <h3 alt="Product Image" class="product-image image4"></h3>
                <p>Description of product .</p>
                <button onclick="addToCart('Product 4','images/image4.jpeg')">Add to Cart</button>
            </li>
            <li>
                <h3 alt="Product Image" class="product-image image5"></h3>
                <p>Description of product .</p>
                <button onclick="addToCart('Product 5','images/image5.jpeg')">Add to Cart</button>
            </li>
            <li>
                <h3 alt="Product Image" class="product-image image6"></h3>
                <p>Description of product .</p>
                <button onclick="addToCart('Product 6','images/image6.jpeg')">Add to Cart</button>
            </li>
            <li>
                <h3 alt="Product Image" class="product-image image7"></h3>
                <p>Description of product .</p>
                <button onclick="addToCart('Product 7','images/image7.jpeg')">Add to Cart</button>
            </li>
            <li>
                <h3 alt="Product Image" class="product-image image8"></h3>
                <p>Description of product .</p>
                <button onclick="addToCart('Product 8','images/image8.jpeg')">Add to Cart</button>
            </li>
            <li>
                <h3 alt="Product Image" class="product-image image9"></h3>
                <p>Description of product .</p>
                <button onclick="addToCart('Product 9','images/image9.jpeg')">Add to Cart</button>
            </li>
            <li>
                <h3 alt="Product Image" class="product-image image10"></h3>
                <p>Description of product .</p>
                <button onclick="addToCart('Product 10','images/image10.webp')">Add to Cart</button>
            </li>

            <li>
                <h3 alt="Product Image" class="product-image image11"></h3>
                <p>Description of product .</p>
                <button onclick="addToCart('Product 11','images/image11.jpeg')">Add to Cart</button>
            </li>
            <li>
                <h3 alt="Product Image" class="product-image image12"></h3>
                <p>Description of product .</p>
                <button onclick="addToCart('Product 12','images/image12.jpeg')">Add to Cart</button>
            </li>
            <li>
                <h3 alt="Product Image" class="product-image image13"></h3>
                <p>Description of product .</p>
                <button onclick="addToCart('Product 13','images/image13.jpeg')">Add to Cart</button>
            </li>
            <li>
                <h3 alt="Product Image" class="product-image image14"></h3>
                <p>Description of product .</p>
                <button onclick="addToCart('Product 14','images/image14.jpeg')">Add to Cart</button>
            </li>
            <li>
                <h3 alt="Product Image" class="product-image image15"></h3>
                <p>Description of product .</p>
                <button onclick="addToCart('Product 15','images/image15.jpeg')">Add to Cart</button>
            </li>
            <li>
                <h3 alt="Product Image" class="product-image image16"></h3>
                <p>Description of product .</p>
                <button onclick="addToCart('Product 16','images/image16.jpeg')">Add to Cart</button>
            </li>
            <li>
                <h3 alt="Product Image" class="product-image image17"></h3>
                <p>Description of product .</p>
                <button onclick="addToCart('Product 17','images/image17.jpeg')">Add to Cart</button>
            </li>
            <li>
                <h3 alt="Product Image" class="product-image image18"></h3>
                <p>Description of product .</p>
                <button onclick="addToCart('Product 17','images/image18.jpeg')">Add to Cart</button>
            </li>
            <li>
                <h3 alt="Product Image" class="product-image image19"></h3>
                <p>Description of product .</p>
                <button onclick="addToCart('Product 18','images/image19.jpeg')">Add to Cart</button>
            </li>
            <li>
                <h3 alt="Product Image" class="product-image image20"></h3>
                <p>Description of product .</p>
                <button onclick="addToCart('Product 19','images/image20.jpeg')">Add to Cart</button>
            </li>
            <li>
                <h3 alt="Product Image" class="product-image image21"></h3>
                <p>Description of product .</p>
                <button onclick="addToCart('Product 20','images/image21.jpeg')">Add to Cart</button>
            </li>
            <li>
                <h3 alt="Product Image" class="product-image image22"></h3>
                <p>Description of product .</p>
                <button onclick="addToCart('Product 21','images/image22.webp')">Add to Cart</button>
            </li>
            <li>
                <h3 alt="Product Image" class="product-image image23"></h3>
                <p>Description of product .</p>
                <button onclick="addToCart('Product 22','images/image23.jpeg')">Add to Cart</button>
            </li>
            <li>
                <h3 alt="Product Image" class="product-image image24"></h3>
                <p>Description of product .</p>
                <button onclick="addToCart('Product 23','images/image24.jpeg')">Add to Cart</button>
            </li>
            <li>
                <h3 alt="Product Image" class="product-image image25"></h3>
                <p>Description of product .</p>
                <button onclick="addToCart('Product 24','images/image25.jpeg')">Add to Cart</button>
            </li>
            <li>
                <h3 alt="Product Image" class="product-image image26"></h3>
                <p>Description of product .</p>
                <button onclick="addToCart('Product 25','images/image26.jpeg')">Add to Cart</button>
            </li>
            <li>
                <h3 alt="Product Image" class="product-image image27"></h3>
                <p>Description of product .</p>
                <button onclick="addToCart('Product 26','images/image27.jpeg')">Add to Cart</button>
            </li>
            <li>
                <h3  alt="Product Image" class="product-image image28"></h3>
                <p>Description of product .</p>
                <button onclick="addToCart('Product 27','images/image28.jpeg')">Add to Cart</button>
            </li>
            <li>
                <h3  alt="Product Image" class="product-image image29"></h3>
                <p>Description of product .</p>
                <button onclick="addToCart('Product 28','images/image29.jpeg')">Add to Cart</button>
            </li>
            <li>
                <h3  alt="Product Image" class="product-image image30"></h3>
                <p>Description of product .</p>
                <button onclick="addToCart('Product 29','images/image30.jpeg')">Add to Cart</button>
            </li>
            
        </ul>
    </div>

    <script>
        fetch('products.json')
            .then(response => response.json())
            .then(products => {
                const productList = document.getElementById('product-list');
                
                products.forEach(product => {
                    const li = document.createElement('li');
                    const img = document.createElement('img');
                    img.src = product.image;
                    img.alt = product.name;
                    img.style.width = '100px';
                    img.style.marginRight = '10px';
                    
                    const button = document.createElement('button');
                    button.textContent = 'Add to Cart';
                    button.onclick = () => addToCart(product.name, product.image);

                    li.appendChild(img);
                    li.appendChild(document.createTextNode(product.name));
                    li.appendChild(button);
                    productList.appendChild(li);
                });
            })
            .catch(error => console.error('Error fetching products:', error));

        //function loadCart() {
    //let cart = JSON.parse(localStorage.getItem('cart')) || [];
    //const cartItems = document.getElementById('cart-items');
    
    //cart.forEach(item => {
        //const li = document.createElement('li');
        //const img = document.createElement('img');
        //img.src = item.image;
        //img.alt = item.name;
        //img.style.width = '100px'; 
        //img.style.height = '100px'; 
        //img.style.marginRight = '10px'; 
        //li.appendChild(img);
        //li.appendChild(document.createTextNode(item.name));
        //cartItems.appendChild(li);
    //});
//}

        function addToCart(productName, productImage) {
            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            cart.push({ name: productName, image: productImage });
            localStorage.setItem('cart', JSON.stringify(cart));
            alert(product + " has been added to your cart!");
        }
        window.onload = function() {
    fetch('http://localhost:3000/api/products')
        .then(response => response.json())
        .then(products => {
            const productList = document.querySelector('.product-list ul');
            products.forEach(product => {
                const li = document.createElement('li');
                li.innerHTML = `<h3>${product.name}</h3>
                                <p>${product.description}</p>
                                <button onclick="addToCart('${product.name}')">Add to Cart</button>`;
                productList.appendChild(li);
            });
        });
};

    </script>
</body>
</html>
